(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6716],{77173:function(e,s,a){Promise.resolve().then(a.bind(a,56873))},56873:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var t=a(57437),r=a(2265),n=a(27648),i=a(99376),l=a(69064),o=a(2141);function u(){(0,i.useRouter)();let[e,s]=(0,r.useState)(!1),[a,u]=(0,r.useState)({email:"",password:""}),d=e=>{let{name:s,value:a}=e.target;u(e=>({...e,[s]:a}))},c=async e=>{e.preventDefault(),s(!0);try{let{data:e,error:s}=await o.supabase.auth.signInWithPassword({email:a.email,password:a.password});if(s)throw s;l.ZP.success("\xa1Bienvenido! Redirigiendo al dashboard..."),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(e){console.error("❌ Login error:",e),l.ZP.error(e.message||"Error al iniciar sesi\xf3n")}finally{s(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Iniciar Sesi\xf3n"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Accede a tu empresa de reparaciones"})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:c,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:a.email,onChange:d,placeholder:"tu@empresa.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:a.password,onChange:d,placeholder:"Tu contrase\xf1a"})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["\xbfNo tienes cuenta?"," ",(0,t.jsx)(n.default,{href:"/auth/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Reg\xedstrate aqu\xed"})]})}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Credenciales de Demo"}),(0,t.jsxs)("p",{className:"text-xs text-blue-700 mb-1",children:[(0,t.jsx)("strong",{children:"Email:"})," demo@demo.com"]}),(0,t.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,t.jsx)("strong",{children:"Contrase\xf1a:"})," demodemo"]}),(0,t.jsx)("button",{type:"button",onClick:()=>{u({email:"demo@demo.com",password:"demodemo"})},className:"mt-2 text-xs text-blue-600 hover:text-blue-800 underline",children:"Usar credenciales demo"})]})]})})})]})}},2141:function(e,s,a){"use strict";a.r(s),a.d(s,{supabase:function(){return i},supabaseAdmin:function(){return l}});var t=a(63887);let r="https://pbdsuhmwxqiwbpgyrhqt.supabase.co";function n(e,s,a){return(0,t.eI)(e,s,{...a,auth:{...a.auth,storage:window.localStorage,storageKey:"supabase.auth.token",flowType:"pkce",debug:!1,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}let{supabase:i,supabaseAdmin:l}=function(){if(!globalThis.__supabaseInitialized){if(globalThis.__supabase)try{var e,s;null===(e=(s=globalThis.__supabase).removeAllChannels)||void 0===e||e.call(s)}catch(e){}globalThis.__supabase=n(r,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBiZHN1aG13eHFpd2JwZ3lyaHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODYyMzMsImV4cCI6MjA3NDY2MjIzM30.u5TqGGpULVAD062GT3zbfdC5RwOrj-jacJhWNSbfqus",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),globalThis.__supabaseAdmin=n(r,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBiZHN1aG13eHFpd2JwZ3lyaHF0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA4NjIzMywiZXhwIjoyMDc0NjYyMjMzfQ.vZDNEvaGYn4-FAvyym69OQxFZkpc4m1ufcCn45Jn3jE",{auth:{persistSession:!1,autoRefreshToken:!1}}),globalThis.__supabaseInitialized=!0}return{supabase:globalThis.__supabase,supabaseAdmin:globalThis.__supabaseAdmin}}()},99376:function(e,s,a){"use strict";var t=a(35475);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[8829,7648,2971,2117,1744],function(){return e(e.s=77173)}),_N_E=e.O()}]);