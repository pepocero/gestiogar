"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2533],{69379:function(e,t,r){r.d(t,{C:function(){return s}});var n=r(57437);r(2265);var a=r(61994);function s(e){let{children:t,variant:r="gray",size:s="md",className:i}=e;return(0,n.jsx)("span",{className:(0,a.W)("inline-flex items-center font-medium rounded-full",{success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",gray:"bg-gray-100 text-gray-800"}[r],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs"}[s],i),children:t})}},84226:function(e,t,r){r.d(t,{z:function(){return s}});var n=r(57437);r(2265);var a=r(61994);function s(e){let{variant:t="primary",size:r="md",loading:s=!1,className:i,children:l,disabled:c,...o}=e;return(0,n.jsxs)("button",{className:(0,a.W)("inline-flex items-center justify-center font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500"}[t],{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r],(c||s)&&"opacity-50 cursor-not-allowed",i),disabled:c||s,...o,children:[s&&(0,n.jsx)("div",{className:"spinner mr-2"}),l]})}},99178:function(e,t,r){r.d(t,{Ol:function(){return i},Zb:function(){return s},eW:function(){return l}});var n=r(57437);r(2265);var a=r(61994);function s(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.W)("card",r),children:t})}function i(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.W)("card-header",r),children:t})}function l(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.W)("card-body",r),children:t})}},96372:function(e,t,r){r.d(t,{v:function(){return h}});var n=r(57437),a=r(2265),s=r(22574),i=r(84226),l=r(32489),c=r(41414),o=r(45802),d=r(43391),u=r(30401);function h(e){let{isOpen:t,onClose:r,onSave:h,imageFile:m,aspectRatio:f=1,title:x="Editar Imagen",circular:y=!1}=e,[g,p]=(0,a.useState)(),[b,v]=(0,a.useState)(),[w,j]=(0,a.useState)(1),[N,k]=(0,a.useState)(0),[I,C]=(0,a.useState)(""),Z=(0,a.useRef)(null),M=(0,a.useRef)(null);a.useEffect(()=>{if(t&&m){let e=new FileReader;e.onload=e=>{var t;C(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(m)}},[t,m]);let z=(0,a.useCallback)(e=>{let{width:t,height:r}=e.currentTarget;p((0,s._H)((0,s.YG)({unit:"%",width:90},f,t,r),t,r))},[f]),E=(e,t)=>{let r=M.current;if(!r)throw Error("Canvas no disponible");let n=r.getContext("2d");if(!n)throw Error("Contexto 2D no disponible");let a=e.naturalWidth/e.width,s=e.naturalHeight/e.height,i=window.devicePixelRatio;return r.width=t.width*i*a,r.height=t.height*i*s,n.setTransform(i,0,0,i,0,0),n.imageSmoothingQuality="high",0!==N&&(n.translate(r.width/2,r.height/2),n.rotate(N*Math.PI/180),n.translate(-r.width/2,-r.height/2)),n.drawImage(e,t.x*a,t.y*s,t.width*a,t.height*s,0,0,r.width/i,r.height/i),new Promise(e=>{r.toBlob(t=>{t&&e(t)},"image/jpeg",.95)})},S=async()=>{if(Z.current&&b)try{let e=await E(Z.current,b);h(e),r()}catch(e){console.error("Error al procesar la imagen:",e)}};return t&&I?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:x}),(0,n.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,n.jsx)(l.Z,{className:"h-5 w-5 text-gray-500"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-4 p-4 border-b border-gray-200 bg-gray-50",children:[(0,n.jsxs)(i.z,{variant:"secondary",size:"sm",onClick:()=>{k(e=>(e+90)%360)},className:"flex items-center",children:[(0,n.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Rotar"]}),(0,n.jsxs)(i.z,{variant:"secondary",size:"sm",onClick:()=>{j(e=>Math.max(e-.1,.5))},className:"flex items-center",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Alejar"]}),(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.round(100*w),"%"]}),(0,n.jsxs)(i.z,{variant:"secondary",size:"sm",onClick:()=>{j(e=>Math.min(e+.1,3))},className:"flex items-center",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Acercar"]})]}),(0,n.jsx)("div",{className:"p-4 overflow-auto max-h-[60vh]",children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(s.ZP,{crop:g,onChange:(e,t)=>p(t),onComplete:e=>v(e),aspect:f,circularCrop:y,children:(0,n.jsx)("img",{ref:Z,alt:"Crop me",src:I,style:{transform:"scale(".concat(w,") rotate(").concat(N,"deg)"),maxWidth:"100%",maxHeight:"400px"},onLoad:z})})})}),(0,n.jsx)("canvas",{ref:M,style:{display:"none"}}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-200",children:[(0,n.jsx)(i.z,{variant:"secondary",onClick:r,children:"Cancelar"}),(0,n.jsxs)(i.z,{onClick:S,disabled:!b,className:"btn-primary flex items-center",children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})}):null}r(83814)},38068:function(e,t,r){r.d(t,{I:function(){return s}});var n=r(57437);r(2265);var a=r(61994);function s(e){let{label:t,error:r,helperText:s,className:i,id:l,...c}=e,o=l||"input-".concat(Math.random().toString(36).substr(2,9));return(0,n.jsxs)("div",{className:"w-full",children:[t&&(0,n.jsxs)("label",{htmlFor:o,className:"form-label",children:[t,c.required&&(0,n.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,n.jsx)("input",{id:o,className:(0,a.W)("form-input",r&&"border-red-300 focus:ring-red-500 focus:border-red-500",i),...c}),r&&(0,n.jsx)("p",{className:"form-error",children:r}),s&&!r&&(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s})]})}},95998:function(e,t,r){r.d(t,{u:function(){return l}});var n=r(57437),a=r(2265),s=r(61994),i=r(32489);function l(e){let{isOpen:t,onClose:r,title:l,children:c,size:o="md",className:d}=e;return((0,a.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,r]),t)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,n.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),(0,n.jsxs)("div",{className:(0,s.W)("relative bg-white rounded-lg shadow-xl w-full",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[o],d),children:[l&&(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l}),(0,n.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,n.jsx)(i.Z,{className:"w-6 h-6"})})]}),(0,n.jsx)("div",{className:"p-6",children:c})]})]})}):null}},95930:function(e,t,r){r.d(t,{iA:function(){return s}});var n=r(57437);r(2265);var a=r(61994);function s(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)("table",{className:(0,a.W)("table",r),children:t})})}},62953:function(e,t,r){r.d(t,{Ct:function(){return s.C},II:function(){return i.I},Zb:function(){return n.Zb},u_:function(){return l.u},zx:function(){return a.z}});var n=r(99178),a=r(84226),s=r(69379),i=r(38068),l=r(95998);r(95930),r(96372)},2141:function(e,t,r){r.r(t),r.d(t,{supabase:function(){return h},supabaseAdmin:function(){return m},supabaseAdminTable:function(){return x},supabaseTable:function(){return f}});var n,a,s,i,l=r(63887),c=r(40257);let o=c.env.NEXT_PUBLIC_SUPABASE_URL||"https://pbdsuhmwxqiwbpgyrhqt.supabase.co",d=c.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBiZHN1aG13eHFpd2JwZ3lyaHF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODYyMzMsImV4cCI6MjA3NDY2MjIzM30.u5TqGGpULVAD062GT3zbfdC5RwOrj-jacJhWNSbfqus",u=c.env.NEXT_PUBLIC_SUPABASE_SERVICE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBiZHN1aG13eHFpd2JwZ3lyaHF0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA4NjIzMywiZXhwIjoyMDc0NjYyMjMzfQ.vZDNEvaGYn4-FAvyym69OQxFZkpc4m1ufcCn45Jn3jE",h=null!==(s=(n=globalThis).__supabaseClient)&&void 0!==s?s:n.__supabaseClient=(0,l.eI)(o,d,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token"}}),m=null!==(i=(a=globalThis).__supabaseAdminClient)&&void 0!==i?i:a.__supabaseAdminClient=(0,l.eI)(o,u,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1,storageKey:"supabase.admin.token"}}),f=e=>h.from(e),x=e=>m.from(e)},46221:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},43044:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},95252:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},70525:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},29525:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},99376:function(e,t,r){var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}}]);